<!DOCTYPE html>
<html>
    <head>
        <title>회원가입</title> 
        <script>
            function submitPassword(){
                var password = document.getElementById("password").value;
                var confirmPassword = document.getElementById("confirmPassword").value;
                /*
                정규식을 활용해서         적어도 하나의 
                영문자    소        대문자  숫자        특수문자  포함하기(다쓸수있따)                  8 ~ 32
                 /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/
                만약 A를 못쓰게하고싶다면 B-Z

                */
               var passwordPattarn = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/;
               var errorPW = document.getElementById("pm");

               if(!password.match(passwordPattarn)){ // 규칙에 맞지 않을때
                    errorPW.textContent = "비밀번호는 8 ~ 32자의 영문, 대문자, 소문자, 특수문자, 숫자를 포함해야합니다.";
                    //  alert("비밀번호는 8 ~ 32자의 영문, 대문자, 소문자, 특수문자, 숫자를 포함해야합니다.");
                    return false;
                } else{
                    errorPW.textContent = ""; // 유효한 경우 오류 메세지 지우기
                }


                if(password !== confirmPassword){ // 비밀번호가 일치하지 않을때
                    errorPW.textContent = "비밀번호와 비밀번호 확인이 일치하지 않습니다.";
                    return false;
                }else{
                    errorPW.textContent = "";
                }
                alert("회원가입이 완료되엇습니다.");
                    return true;

                

            }
        </script>
    </head>
    <body>
        <!--
                onsubmit    : 폼이 제출될 때 JS 함수가 반환하는 값에 따라 폼이 계속 진행되거나 멈출지 결정
                return true : 폼이 계속 진행되고 서버로 데이터가 제출됨
                return false : 폼이 제출되지 않고, 서버로 데이터가 전송되지 않음
        -->

        <form onsubmit="return submitPassword()">
            <label for="username">아이디 :</label>
            <input type="text" id="username">
            <label for="password">비밀번호 : </label>
            <input type="password" id="password" >
            <!--
                <p id="pm"></p>
                p 태그 안에는 비밀번호가 잘못 입력되었을 때나
                비밀번호 작성함에 있어 유효한 입력을 유도하기 위해 보여지는 태그

            -->
            <p id="pm" style="color: red;"></p><br>
            <label for="confirmPassword">비밀번호 확인 : </label>
            <input type="password" id="confirmPassword"><br>

            <input type="submit" value="제출"> <!--버튼형 타입 submit-->
        </form>
    </body>    


</html>

<!--if (password !== confirmPassword){
    errorPW.textContent = "비밀번호와 비밀번호 확인이 일치하지 않습니다."
    return false;
} else{
    errorPW.textContent = "";
} -->